<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title><%= content_for?(:title) ? yield(:title) : "TechCoop Cloud" %></title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<%= csrf_meta_tags %>
<%= csp_meta_tag %>

<%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

<link href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,300,400,600,700,800,900" rel="stylesheet">
<%= javascript_importmap_tags %>


<%= yield :head %>
</head>

<body id="page-top">
  <% if user_signed_in? %>
    <!-- Page Wrapper -->
    <div id="wrapper">

      <!-- Sidebar -->
      <%= render "layouts/sidebar" %>
      <!-- End of Sidebar -->

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

          <!-- Topbar -->
          <%= render "layouts/topbar" %>
          <!-- End of Topbar -->

          <!-- Begin Page Content -->
          <div class="container-fluid">
            <% if notice.present? %>
              <div class="alert alert-info"><%= notice %></div>
            <% end %>
            <% if alert.present? %>
              <div class="alert alert-warning"><%= alert %></div>
            <% end %>

            <%= yield %>
          </div>
          <!-- /.container-fluid -->

        </div>
        <!-- End of Main Content -->

        <!-- Footer -->
        <%= render "layouts/footer" %>
        <!-- End of Footer -->

      </div>
      <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>

  <% else %>
    <!-- Layout simplificado quando nÃ£o logado -->
    <div class="container py-4">
      <%= yield %>
    </div>
  <% end %>

  <%= yield :scripts %>
</body>
</html>